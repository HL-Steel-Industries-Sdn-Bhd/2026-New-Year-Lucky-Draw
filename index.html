<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¨å‘˜æœ‰å¥– Â· æ»šåŠ¨æŠ½å¥–</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            background: linear-gradient(145deg, #2b3a4a 0%, #1d2a35 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Segoe UI', Roboto, system-ui, sans-serif;
            padding: 20px;
        }
        .container {
            max-width: 1300px;
            width: 100%;
            background: rgba(255,255,255,0.06);
            backdrop-filter: blur(8px);
            border-radius: 56px;
            padding: 30px;
            box-shadow: 0 30px 50px rgba(0,0,0,0.6), inset 0 2px 2px rgba(255,255,255,0.1);
            border: 1px solid rgba(255,215,0,0.2);
        }
        .main-panel {
            display: flex;
            gap: 28px;
            flex-wrap: wrap;
        }
        /* å·¦ä¾§æ»šåŠ¨åŒº */
        .left-panel {
            flex: 1.4;
            min-width: 360px;
            background: #0f1a24;
            border-radius: 42px;
            padding: 28px 22px;
            box-shadow: inset 0 -3px 8px #00000055, 0 20px 30px #0000004d;
            border: 1px solid #ffd96655;
            display: flex;
            flex-direction: column;
        }
        .left-panel h2 {
            color: #ffd966;
            font-weight: 500;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-size: 1.4rem;
            margin-left: 12px;
            margin-bottom: 18px;
            text-shadow: 0 2px 5px #00000080;
            border-left: 6px solid #ffb347;
            padding-left: 20px;
        }
        .name-roller {
            background: #091016;
            border-radius: 40px;
            padding: 40px 20px;
            margin-bottom: 30px;
            border: 2px solid #ffd96688;
            box-shadow: 0 0 20px #ffb34740, inset 0 0 10px #000000cc;
        }
        .roller-display {
            background: #1e2c3a;
            border-radius: 60px;
            padding: 35px 20px;
            text-align: center;
            border: 1px solid #f1c232;
            box-shadow: 0 8px 0 #0a121b;
        }
        #rollingName {
            font-size: 3.8rem;
            font-weight: 700;
            color: #fff5d6;
            text-shadow: 0 0 8px #ffb347, 0 4px 10px #000;
            letter-spacing: 2px;
            word-break: break-word;
            line-height: 1.3;
            transition: all 0.08s ease;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-roll {
            background: #f5b042;
            border: none;
            border-bottom: 6px solid #9e601d;
            font-size: 2.4rem;
            font-weight: bold;
            color: #1a2a33;
            padding: 25px 20px;
            border-radius: 60px;
            width: 100%;
            cursor: pointer;
            transition: 0.1s linear;
            text-transform: uppercase;
            letter-spacing: 6px;
            box-shadow: 0 10px 20px #00000070;
            margin-top: 15px;
        }
        .btn-roll:active {
            border-bottom-width: 2px;
            transform: translateY(4px);
            background: #ffa726;
        }
        .btn-roll:disabled {
            opacity: 0.5;
            border-bottom-width: 6px;
            transform: none;
            pointer-events: none;
            filter: grayscale(0.6);
        }
        /* å³ä¾§å¾—å¥–åå• */
        .right-panel {
            flex: 1;
            min-width: 320px;
            background: #0f1a24e0;
            border-radius: 42px;
            padding: 28px 20px;
            border: 1px solid #e6b42266;
            box-shadow: inset 0 -3px 8px #00000070, 0 20px 30px #0000004d;
            backdrop-filter: blur(4px);
            display: flex;
            flex-direction: column;
        }
        .right-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            border-bottom: 2px dashed #f1c232;
            padding-bottom: 12px;
            margin-bottom: 24px;
            color: #ffd966;
        }
        .right-header h2 {
            font-size: 2rem;
            font-weight: 400;
            letter-spacing: 1px;
        }
        .prize-badge {
            background: #2d424b;
            padding: 8px 18px;
            border-radius: 40px;
            font-size: 1.3rem;
            font-weight: 600;
            color: #ffdb8e;
            box-shadow: inset 0 -2px 0 #1a2129;
        }
        .winners-list {
            flex: 1;
            list-style: none;
            overflow-y: auto;
            max-height: 580px;
            padding-right: 8px;
        }
        .winners-list li {
            background: #1d2f3b;
            margin: 10px 0;
            padding: 16px 22px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 15px;
            border: 1px solid #d4a259;
            box-shadow: 0 4px 0 #0f1a1f;
            font-size: 1.35rem;
            color: #fbe6b0;
            transition: 0.2s;
        }
        .prize-tag {
            background: #c28d3b;
            color: #0b0f14;
            font-weight: 700;
            padding: 5px 18px;
            border-radius: 40px;
            font-size: 1.3rem;
            box-shadow: inset 0 -2px 0 #6d4f2a;
            border: 1px solid #fad27a;
            margin-right: 6px;
        }
        .winner-name {
            flex: 1;
            font-weight: 500;
        }
        .empty-winners {
            color: #68747d;
            text-align: center;
            margin-top: 50px;
            font-size: 1.5rem;
            font-style: italic;
            opacity: 0.8;
        }
        .reset-area {
            margin-top: 25px;
            display: flex;
            justify-content: flex-end;
        }
        #resetBtn {
            background: #374952;
            border: none;
            border-bottom: 4px solid #1d2b33;
            color: #e1cd9c;
            font-size: 1.4rem;
            padding: 12px 32px;
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.1s;
            letter-spacing: 2px;
        }
        #resetBtn:active {
            border-bottom-width: 1px;
            transform: translateY(3px);
            background: #2f3d47;
        }
        .remaining-count {
            font-size: 1.2rem;
            color: #ffd58c;
            background: #1d2a33;
            border-radius: 30px;
            padding: 8px 22px;
            display: inline-block;
            border: 1px solid #f5b842;
        }
        footer {
            text-align: center;
            color: #a5b9c9;
            margin-top: 20px;
            opacity: 0.7;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="main-panel">
        <!-- å·¦ä¾§æ»šåŠ¨åŒº -->
        <div class="left-panel">
            <h2>ğŸ° æŠ½å¥–è½®ç›˜ Â· æ‰€æœ‰äººæœ‰å¥–</h2>
            <div class="name-roller">
                <div class="roller-display">
                    <div id="rollingName">ğŸ² å‡†å¤‡å°±ç»ª</div>
                </div>
            </div>
            <button class="btn-roll" id="rollBtn">â–¶ å¼€å§‹æ»šåŠ¨</button>
            <div style="margin-top: 20px; display: flex; justify-content: center;">
                <span class="remaining-count" id="remainingCounter">å‰©ä½™ 25 äºº</span>
            </div>
        </div>

        <!-- å³ä¾§å¾—å¥–åå•ï¼ˆå¥–å“ç¼–å·ï¼‰ -->
        <div class="right-panel">
            <div class="right-header">
                <h2>ğŸ† è·å¥–åå• Â· å¥–å“ç¼–å·</h2>
                <span class="prize-badge" id="awardCount">0 / 25</span>
            </div>
            <!-- è·å¥–åˆ—è¡¨å®¹å™¨ -->
            <ul class="winners-list" id="winnersList">
                <li class="empty-winners">âœ¨ ç‚¹å‡»æŠ½å¥– æ»šå‡ºå¹¸è¿å„¿ âœ¨</li>
            </ul>
            <div class="reset-area">
                <button id="resetBtn">âŸ² é‡ç½®æ‰€æœ‰æŠ½å¥–</button>
            </div>
        </div>
    </div>
    <footer>ä¸€äººä¸€å¥– Â· ä¸å¯é‡å¤ Â· å…¨å‘˜è¦†ç›–</footer>
</div>

<script>
    (function() {
        // ---------- åŸå§‹åå• (25äºº) ----------
        const fullNameList = [
            "Ethan Chuu", "Jessie Tew", "Wong Chok Poh", "Victor So", "Lee Lung Chay",
            "Cyril Chan", "Han Lin Maung", "Aung Thant", "Myo Min Naing", "Shirley Tew",
            "Paing Soe", "Wai Phyo", "Albert", "Luna", "Edika",
            "Bunyau", "Terrence", "Ocean Chuu", "Kuan", "Ghan",
            "Ko Gyi", "Zue Hilaing Htoo", "Tun Myint Aung", "Zheng Hui"
        ];  // æ•°ä¸€ä¸‹æ­£å¥½24? ç­‰ä¸€ä¸‹: æˆ‘é€ä¸ªæ•°: 1Ethan,2Jessie,3Wong,4Victor,5Lee,6Cyril,7Han,8Aung,9Myo,10Shirley,11Paing,12Wai,13Albert,14Luna,15Edika,16Bunyau,17Terrence,18Ocean,19Kuan,20Ghan,21Ko Gyi,22Zue,23Tun,24Zheng Hui -> 24ä¸ª? é¢˜ç›®é‡Œåå­—åˆ—å‡ºå¥½åƒæ˜¯24? ä½†æ˜¯è¯´"å…¨éƒ¨äººéƒ½ä¼šæ‹¿åˆ°å¥–å“"25äººï¼Ÿå†çœ‹åŸé¢˜åˆ—ä¸¾ï¼šEthan Chuu, Jessie Tew, Wong Chok Poh, Victor So, Lee Lung Chay, Cyril Chan, Han Lin Maung, Aung Thant, Myo Min Naing, Shirley Tew, Paing Soe, Wai Phyo, Albert, Luna, Edika, Bunyau, Terrence, Ocean Chuu, Kuan, Ghan, Ko Gyi, Zue Hilaing Htoo, Tun Myint Aung, Zheng Hui ã€‚ æˆ‘æ•°äº†å››é: æ€»å…±24ä¸ªåå­—ã€‚ä½†æè¿°è¯´"åå­—å¦‚ä¸‹ï¼š... (æœ€åZheng Hui) é‚£å°±æ˜¯24äººã€‚ ä½†åé¢æåˆ°"å…¨éƒ¨äººéƒ½ä¼šæ‹¿åˆ°å¥–å“ï¼Œæ¯ä¸ªå¥–å“éƒ½ä¼šç¼–å·"ï¼Œé‚£å°±æ˜¯24ä¸ªå¥–å“ã€‚ä¸ºäº†ä¸¥è°¨ä¿è¯ä¸€äººä¸€å¥–ä¸”å…¨éƒ¨æŠ½å®Œï¼Œä½¿ç”¨24é•¿åº¦ã€‚
        // ä½†ä»¥é˜²æœ‰æ¼ï¼Œå†æ ¸å¯¹ï¼šç”¨æ•°ç»„ã€‚
        // ç¡®å® 24 ä¸ªã€‚ä¿æŒåŸæ ·ã€‚å‰©ä½™è®¡æ•°å™¨åŠ¨æ€ã€‚
        const nameList = [...fullNameList];   // åˆå§‹æœªæŠ½åå•
        
        // æ•°æ®çŠ¶æ€
        let availableNames = [...nameList];       // è¿˜æ²¡ä¸­å¥–çš„äººï¼ˆå‰¯æœ¬ï¼‰
        let winners = [];                          // å·²ä¸­å¥–è€…é¡ºåº { name, prizeNo }
        let isRolling = false;                      // æ»šåŠ¨çŠ¶æ€
        let rollInterval = null;                    // interval id
        let currentDisplayName = "ğŸ² å‡†å¤‡å°±ç»ª";     // å½“å‰æ˜¾ç¤ºçš„åå­—
        
        // DOM å…ƒç´ 
        const rollingNameEl = document.getElementById('rollingName');
        const rollBtn = document.getElementById('rollBtn');
        const winnersListEl = document.getElementById('winnersList');
        const remainingCounterEl = document.getElementById('remainingCounter');
        const awardCountEl = document.getElementById('awardCount');
        const resetBtn = document.getElementById('resetBtn');

        // è¾…åŠ©: æ›´æ–°å‰©ä½™äººæ•°æ˜¾ç¤º
        function updateRemainingCount() {
            const remain = availableNames.length;
            remainingCounterEl.textContent = `å‰©ä½™ ${remain} äºº`;
            awardCountEl.textContent = `${winners.length} / ${nameList.length}`;
        }

        // æ¸²æŸ“è·å¥–åå• (å¥–å“ç¼–å·æŒ‰æŠ½ä¸­é¡ºåº)
        function renderWinners() {
            const items = winners.map((winner, index) => {
                // å¥–å“ç¼–å·ä»1å¼€å§‹, æ ¼å¼: P-001 æˆ–è€… çº¯æ•°å­—
                const prizeNumber = (index + 1).toString().padStart(2, '0');  // 01,02...
                return `<li>
                    <span class="prize-tag">#${prizeNumber}</span>
                    <span class="winner-name">${winner.name}</span>
                </li>`;
            }).join('');
            
            if (winners.length === 0) {
                winnersListEl.innerHTML = '<li class="empty-winners">âœ¨ ç‚¹å‡»æŠ½å¥– æ»šå‡ºå¹¸è¿å„¿ âœ¨</li>';
            } else {
                winnersListEl.innerHTML = items;
            }
            // æ»šåŠ¨åˆ—è¡¨åˆ°åº•éƒ¨ï¼ˆæœ€æ–°è·å¥–å¯è§ï¼‰
            if (winnersListEl) {
                winnersListEl.scrollTop = winnersListEl.scrollHeight;
            }
            updateRemainingCount();
        }

        // ä»å‰©ä½™åå•éšæœºé€‰ä¸€ä¸ªåå­— (ç”¨äºæ»šåŠ¨æ˜¾ç¤º)
        function getRandomAvailableName() {
            if (availableNames.length === 0) return "ğŸ† å…¨å‘˜æœ‰å¥– ğŸ†";
            const randomIdx = Math.floor(Math.random() * availableNames.length);
            return availableNames[randomIdx];
        }

        // æ›´æ–°æ»šåŠ¨æ˜¾ç¤º (æ¯å¸§)
        function updateRollingDisplay() {
            if (availableNames.length === 0) {
                // æ²¡äººå¯æŠ½äº†ï¼Œæ˜¾ç¤ºå®Œèµ›
                rollingNameEl.textContent = "ğŸ‰ æŠ½å¥–ç»“æŸ ğŸ‰";
                return;
            }
            const randomName = getRandomAvailableName();
            currentDisplayName = randomName;
            rollingNameEl.textContent = randomName;
        }

        // å¼€å§‹æ»šåŠ¨ (è®¾å®šå®šæ—¶å™¨)
        function startRolling() {
            if (availableNames.length === 0) {
                // å¦‚æœå·²ç»æ²¡æœ‰å‰©ä½™åå­—ï¼Œä¸å…è®¸å¼€å§‹æ»šåŠ¨
                alert('æ‰€æœ‰äººéƒ½å·²è·å¥–ï¼ç‚¹å‡»é‡ç½®å¯å†æ¬¡æŠ½å¥–ã€‚');
                rollBtn.textContent = 'â–¶ å¼€å§‹æ»šåŠ¨';
                isRolling = false;
                return;
            }
            if (rollInterval) clearInterval(rollInterval);
            // ä½¿ç”¨çŸ­é—´éš”è¾¾åˆ°å¿«é€Ÿæ»šåŠ¨æ•ˆæœ (çº¦80ms)
            rollInterval = setInterval(updateRollingDisplay, 70);
            isRolling = true;
            rollBtn.textContent = 'â¹ åœæ­¢æŠ½å¥–';
        }

        // åœæ­¢æ»šåŠ¨å¹¶é€‰ä¸­å½“å‰æ˜¾ç¤ºçš„åå­—ä½œä¸ºè·å¥–è€…
        function stopAndPickWinner() {
            if (rollInterval) {
                clearInterval(rollInterval);
                rollInterval = null;
            }
            isRolling = false;
            rollBtn.textContent = 'â–¶ å¼€å§‹æ»šåŠ¨';

            // å¦‚æœæ²¡äººå‰©ä½™ï¼Œåˆ™ä¸èƒ½æŠ½é€‰
            if (availableNames.length === 0) {
                rollingNameEl.textContent = "ğŸ å¥–å“å‘å…‰";
                return;
            }

            // å½“å‰æ˜¾ç¤ºçš„åå­— currentDisplayName (å¯èƒ½æ¥è‡ªgetRandomAvailableName)
            let pickedName = currentDisplayName;

            // æç«¯æƒ…å†µ: å¦‚æœæ˜¾ç¤ºçš„æ˜¯å ä½ç¬¦æˆ–è€…ä¸åˆæ³•(æ¯”å¦‚æš‚åœæ—¶å‰©ä½™0å·²ç»æ‹¦æˆªï¼Œä½†ä»¥é˜²ä¸‡ä¸€)
            if (!pickedName || pickedName.includes('ğŸ†') || pickedName.includes('ğŸ²')) {
                // å¦‚æœæ„å¤–æ²¡æœ‰åå­—ï¼Œå°±ä»availableå–ç¬¬ä¸€ä¸ª
                if (availableNames.length > 0) {
                    pickedName = availableNames[0];
                } else {
                    return;
                }
            }

            // ç¡®ä¿ pickedName ç¡®å®åœ¨ availableNames ä¸­ (æ»šåŠ¨éšæœºä¸ä¼šå‡ºé—®é¢˜, ä½†è‹¥åˆšé‡ç½®/åˆ é™¤å¯èƒ½å‡ºç°ç†è®ºä¸ä¸€è‡´, åšå®‰å…¨è¿‡æ»¤)
            if (!availableNames.includes(pickedName)) {
                // å¦‚æœä¸å­˜åœ¨(æå°æ¦‚ç‡äº‹ä»¶: ä¾‹å¦‚åˆšé‡ç½®åå¥–å“å…¨éƒ¨æŠ½å®Œåˆå‡ºç°â€¦â€¦), åˆ™é‡æ–°ä»å‰©ä½™å–ä¸€ä¸ª
                if (availableNames.length > 0) {
                    pickedName = availableNames[0];
                } else {
                    return;
                }
            }

            // å°†pickedNameä»availableNamesç§»é™¤, åŠ å…¥winners
            const nameIndex = availableNames.indexOf(pickedName);
            if (nameIndex !== -1) {
                availableNames.splice(nameIndex, 1);
                winners.push({ name: pickedName });
            } else {
                // ä¿åº•: å¦‚æœå¥‡æ€ªæ²¡æ‰¾åˆ°, ç›´æ¥æ‹¿ç¬¬ä¸€ä¸ªå‰©ä½™çš„
                if (availableNames.length > 0) {
                    const fallbackName = availableNames[0];
                    availableNames.shift();
                    winners.push({ name: fallbackName });
                    pickedName = fallbackName;
                }
            }

            // æ›´æ–°æ˜¾ç¤º: è®©æ»šåŠ¨æ¡†æ˜¾ç¤ºåˆšé€‰ä¸­çš„åå­— (ä¿ç•™ä¸€ä¸‹è§†è§‰æ•ˆæœ)
            rollingNameEl.textContent = pickedName;

            // å¦‚æœæŠ½å®Œåæ²¡æœ‰å‰©ä½™äº†ï¼Œæ˜¾ç¤ºç»“æŸè¯­ï¼Œä¸”ç¦ç”¨å¼€å§‹æ»šåŠ¨æ•ˆæœ (æŒ‰é’®ä¾ç„¶å¯ç‚¹å‡»ä½†ä¸å¯å¼€å§‹)
            if (availableNames.length === 0) {
                rollingNameEl.textContent = "ğŸ… å…¨éƒ¨æŠ½å®Œ ğŸ…";
                // å¼ºåˆ¶åœæ­¢ä»»ä½•å¯èƒ½æ®‹ç•™çš„æ»šåŠ¨
                if (rollInterval) {
                    clearInterval(rollInterval);
                    rollInterval = null;
                }
                isRolling = false;
                rollBtn.textContent = 'â–¶ å¼€å§‹æ»šåŠ¨';
            }

            // é‡æ–°æ¸²æŸ“å³ä¾§åå•
            renderWinners();
        }

        // å¤„ç†æŠ½å¥–æŒ‰é’®ç‚¹å‡»: å¼€å§‹/åœæ­¢
        function handleRollClick() {
            // å¦‚æœæ²¡æœ‰å‰©ä½™äººå‘˜ï¼Œä¸å…è®¸å¼€å§‹
            if (availableNames.length === 0 && !isRolling) {
                alert('æ‰€æœ‰å¥–å“å‡å·²å‘å‡ºï¼ç‚¹å‡»é‡ç½®å†æ¥ä¸€æ¬¡ã€‚');
                return;
            }

            if (isRolling) {
                // æ­£åœ¨æ»šåŠ¨ -> åœæ­¢ (æŠ½å¥–)
                stopAndPickWinner();
            } else {
                // åœæ­¢çŠ¶æ€ -> å¼€å§‹æ»šåŠ¨ (ä½†éœ€è¦ç¡®ä¿æœ‰äºº)
                if (availableNames.length === 0) {
                    alert('å·²ç»æ²¡æœ‰å‰©ä½™å‚ä¸è€…äº†ï¼Œè¯·é‡ç½®');
                    return;
                }
                startRolling();
            }
        }

        // é‡ç½®æ‰€æœ‰çŠ¶æ€ (å›åˆ°æœ€åˆ)
        function resetGame() {
            // åœæ‰æ‰€æœ‰æ»šåŠ¨
            if (rollInterval) {
                clearInterval(rollInterval);
                rollInterval = null;
            }
            isRolling = false;
            rollBtn.textContent = 'â–¶ å¼€å§‹æ»šåŠ¨';
            
            // é‡ç½®åå•: å¯ç”¨åå• = åŸå§‹å…¨é‡åå•, winners æ¸…ç©º
            availableNames = [...nameList];
            winners = [];
            
            // é‡ç½®æ˜¾ç¤º
            currentDisplayName = "ğŸ² å‡†å¤‡å°±ç»ª";
            rollingNameEl.textContent = currentDisplayName;
            
            // é‡æ–°æ¸²æŸ“å³ä¾§ç©ºåå•
            renderWinners();
        }

        // åˆå§‹æ¸²æŸ“ + äº‹ä»¶ç»‘å®š
        function init() {
            // æ£€æŸ¥åå­—æ•°é‡ æ ¹æ®å®é™…æ•°ç»„é•¿åº¦
            // å¼ºåˆ¶ nameList ä¸ fullNameList ä¸€è‡´; ä½†å¦‚æœæœ‰é—æ¼å¯ä»¥æ‰‹å·¥è¡¥ï¼Œä½†æ•°ç»„å·²ç»æ˜¯24ã€‚è‹¥æœ‰25äººéœ€æ±‚ï¼Œå¯è¿½åŠ ã€‚ä½†é¢˜ç›®åˆ—è¡¨å°±è¿™äº›ã€‚ç¡®è®¤æ²¡å°‘ã€‚
            // å¦‚æœéœ€è¦25äººï¼Œæœ€ååŠ ä¸€ä¸ªåå­—? ä½†é¢˜ç›®æ˜ç¡®åˆ—äº†æœ€åä¸€ä¸ª Zheng Huiï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿æŒä¿¡ä»»ã€‚
            // ä¸ºäº†è¶£å‘³ï¼Œè‹¥æƒ³å¢åŠ å¯æ‰‹åŠ¨å–æ¶ˆä¸‹è¡Œæ³¨é‡Š: (ä½†ä¿ç•™åŸæ ·)
            // if(nameList.length === 24) nameList.push("Demo Guy");  // ä¸è¿½åŠ 
            
            renderWinners();
            rollBtn.addEventListener('click', handleRollClick);
            resetBtn.addEventListener('click', resetGame);

            // å¤„ç†è¾¹ç¼˜æƒ…å†µ: é¡µé¢å…³é—­æ—¶æ¸…é™¤å®šæ—¶å™¨ (å¥½ä¹ æƒ¯)
            window.addEventListener('beforeunload', function() {
                if (rollInterval) clearInterval(rollInterval);
            });
        }

        init();
    })();
</script>
</body>
</html>
